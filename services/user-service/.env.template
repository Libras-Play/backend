# User Service - Environment Variables Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to git!

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database Connection
# Format: postgresql+asyncpg://USERNAME:PASSWORD@HOST:PORT/DATABASE
# Production: Use AWS Secrets Manager instead of hardcoded values
DATABASE_URL=postgresql+asyncpg://postgres:YOUR_PASSWORD_HERE@YOUR_RDS_HOST:5432/user_db

# Example for local development:
# DATABASE_URL=postgresql+asyncpg://postgres:localpass@localhost:5432/user_db

# =============================================================================
# AWS CONFIGURATION
# =============================================================================
# AWS Region
AWS_REGION=us-east-1
AWS_DEFAULT_REGION=us-east-1

# DynamoDB Table Names
DYNAMODB_USER_PROGRESS_TABLE=user_progress_dev
DYNAMODB_USER_LIVES_TABLE=user_lives_dev
DYNAMODB_DAILY_MISSIONS_TABLE=daily_missions_dev
DYNAMODB_USER_MISSIONS_TABLE=user_missions_dev
DYNAMODB_USER_BADGES_TABLE=user_badges_dev
DYNAMODB_TOPIC_PROGRESS_TABLE=topic_progress_dev
DYNAMODB_STREAKS_TABLE=streaks_dev

# NOTE: In production (ECS), use IAM roles instead of access keys
# Never set AWS_ACCESS_KEY_ID or AWS_SECRET_ACCESS_KEY in .env for production

# =============================================================================
# COGNITO CONFIGURATION
# =============================================================================
# AWS Cognito User Pool Configuration
COGNITO_USER_POOL_ID=YOUR_USER_POOL_ID
COGNITO_CLIENT_ID=YOUR_CLIENT_ID
COGNITO_REGION=us-east-1

# Example:
# COGNITO_USER_POOL_ID=us-east-1_XXXXXXXXX
# COGNITO_CLIENT_ID=1234567890abcdefghijklmnop

# =============================================================================
# SERVICE INTEGRATION
# =============================================================================
# Content Service URL for syncing topic progress
CONTENT_SERVICE_URL=http://content-service-alb-1234567890.us-east-1.elb.amazonaws.com

# For local development:
# CONTENT_SERVICE_URL=http://localhost:8001

# Adaptive Learning Service URL
ADAPTIVE_SERVICE_URL=http://adaptive-service-alb-1234567890.us-east-1.elb.amazonaws.com

# For local development:
# ADAPTIVE_SERVICE_URL=http://localhost:8003

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
# Environment: development, staging, production
ENVIRONMENT=development

# Application name and version
APP_NAME=user-service
VERSION=1.0.0

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# =============================================================================
# LIVES CONFIGURATION
# =============================================================================
# Lives system settings
MAX_LIVES=5
LIFE_REFILL_MINUTES=180
LIFE_REFILL_HOURS=3

# =============================================================================
# STREAK CONFIGURATION
# =============================================================================
# Streak timezone protection hours
STREAK_PROTECTION_HOURS=12

# =============================================================================
# XP AND REWARDS
# =============================================================================
# XP per level requirement
XP_PER_LEVEL=500

# Default rewards for new users
DEFAULT_COINS=100
DEFAULT_GEMS=10

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. NEVER commit this file with real values to git
# 2. Use AWS Secrets Manager for production credentials
# 3. Rotate database passwords regularly (every 90 days)
# 4. Use IAM roles in ECS instead of access keys
# 5. Enable encryption at rest for RDS and DynamoDB
# 6. Use VPC security groups to restrict database access
# 7. Keep Cognito credentials in AWS Secrets Manager

# =============================================================================
# PRODUCTION DEPLOYMENT
# =============================================================================
# For ECS deployment, set these as environment variables in task definition:
# - DATABASE_URL from AWS Secrets Manager
# - AWS_REGION from task metadata
# - COGNITO_* from AWS Secrets Manager
# - ENVIRONMENT=production
# - LOG_LEVEL=WARNING
# - Service URLs from service discovery or ALB DNS
